# 1. 解析选择器

浏览器首先会对 CSS 选择器进行解析，将其拆分成多个部分。例如，对于选择器 body div p，会拆分为 body、div 和 p 三个简单选择器。

# 2. 从右向左匹配

浏览器从选择器的最右侧开始匹配元素，这是因为最右侧的选择器往往是最具体的，能快速缩小匹配范围。
找到最右侧选择器的候选元素：在文档中找出所有符合最右侧选择器的元素。比如，对于选择器 body div p，浏览器会先找出所有的 <p> 元素。
逐级向上匹配：针对每个候选元素，浏览器会逐级向上检查其父元素是否符合选择器中左边的部分。例如，找到一个 <p> 元素后，会检查其父元素是否为 <div>，再检查 <div> 的父元素是否为 <body>。如果都符合，那么这个 <p> 元素就匹配该选择器。

# 3. 处理复杂选择器

对于更复杂的选择器，如包含类选择器、ID 选择器、属性选择器等，浏览器也会按照上述原则进行匹配。

类选择器：对于选择器 .example p，浏览器先找出所有带有 example 类的元素，再检查这些元素内部的 <p> 元素。

ID 选择器：选择器 #main div，浏览器先找到 ID 为 main 的元素，再查找其内部的 <div> 元素。

属性选择器：选择器 input[type="text"]，浏览器会找出所有 <input> 元素，然后筛选出 type 属性为 text 的元素。

# 4. 应用优先级规则

如果多个选择器都能匹配同一个元素，浏览器会根据选择器的优先级来决定应用哪个样式。一般来说，ID 选择器优先级最高，其次是类选择器，最后是元素选择器。
